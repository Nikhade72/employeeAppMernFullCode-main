{"ast":null,"code":"import axios from 'axios';\nimport validate from './formValLogin';\nconst inputHandler = (e, setInput, input) => {\n  setInput({\n    ...input,\n    [e.target.name]: e.target.value\n  });\n};\nconst loginClicked = async (input, setFormError, navigate) => {\n  const errors = validate(input);\n  if (Object.keys(errors).length === 0 || input.email === 'admin' && input.password === 'admin' || input.email === 'user' && input.password === 'user') {\n    try {\n      const response = await axios.post(`http://localhost:5000/login`, input);\n      if (response.data.message === 'Login Successful') {\n        const token = response.data.token;\n        const userId = response.data.data._id;\n        sessionStorage.setItem('userToken', token);\n        sessionStorage.setItem('userId', userId);\n        alert(response.data.message);\n        navigate('/home');\n      } else {\n        alert(response.data.message);\n      }\n    } catch (error) {\n      console.error(error);\n      alert('An error occurred during login. Please try again later.');\n    }\n  } else {\n    setFormError(errors);\n  }\n};\nexport { inputHandler, loginClicked };","map":{"version":3,"names":["axios","validate","inputHandler","e","setInput","input","target","name","value","loginClicked","setFormError","navigate","errors","Object","keys","length","email","password","response","post","data","message","token","userId","_id","sessionStorage","setItem","alert","error","console"],"sources":["C:/Users/vishn/Desktop/employeeAppMernFullCode-main/frontend/src/components/utils/Login&Signup/loginActions.js"],"sourcesContent":["import axios from 'axios';\nimport validate from './formValLogin';\n\nconst inputHandler = (e, setInput, input) => {\n  setInput({\n    ...input,\n    [e.target.name]: e.target.value\n  });\n};\n\nconst loginClicked = async (input, setFormError, navigate) => {\n  const errors = validate(input);\n\n  if (\n    Object.keys(errors).length === 0 ||\n    (input.email === 'admin' && input.password === 'admin') ||\n    (input.email === 'user' && input.password === 'user')\n  ) {\n    try {\n      const response = await axios.post(`http://localhost:5000/login`, input);\n\n      if (response.data.message === 'Login Successful') {\n        const token = response.data.token;\n        const userId = response.data.data._id;\n        sessionStorage.setItem('userToken', token);\n        sessionStorage.setItem('userId', userId);\n        alert(response.data.message);\n        navigate('/home');\n      } else {\n        alert(response.data.message);\n      }\n    } catch (error) {\n      console.error(error);\n      alert('An error occurred during login. Please try again later.');\n    }\n  } else {\n    setFormError(errors);\n  }\n};\n\nexport { inputHandler, loginClicked };\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,gBAAgB;AAErC,MAAMC,YAAY,GAAGA,CAACC,CAAC,EAAEC,QAAQ,EAAEC,KAAK,KAAK;EAC3CD,QAAQ,CAAC;IACP,GAAGC,KAAK;IACR,CAACF,CAAC,CAACG,MAAM,CAACC,IAAI,GAAGJ,CAAC,CAACG,MAAM,CAACE;EAC5B,CAAC,CAAC;AACJ,CAAC;AAED,MAAMC,YAAY,GAAG,MAAAA,CAAOJ,KAAK,EAAEK,YAAY,EAAEC,QAAQ,KAAK;EAC5D,MAAMC,MAAM,GAAGX,QAAQ,CAACI,KAAK,CAAC;EAE9B,IACEQ,MAAM,CAACC,IAAI,CAACF,MAAM,CAAC,CAACG,MAAM,KAAK,CAAC,IAC/BV,KAAK,CAACW,KAAK,KAAK,OAAO,IAAIX,KAAK,CAACY,QAAQ,KAAK,OAAQ,IACtDZ,KAAK,CAACW,KAAK,KAAK,MAAM,IAAIX,KAAK,CAACY,QAAQ,KAAK,MAAO,EACrD;IACA,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMlB,KAAK,CAACmB,IAAI,CAAE,6BAA4B,EAAEd,KAAK,CAAC;MAEvE,IAAIa,QAAQ,CAACE,IAAI,CAACC,OAAO,KAAK,kBAAkB,EAAE;QAChD,MAAMC,KAAK,GAAGJ,QAAQ,CAACE,IAAI,CAACE,KAAK;QACjC,MAAMC,MAAM,GAAGL,QAAQ,CAACE,IAAI,CAACA,IAAI,CAACI,GAAG;QACrCC,cAAc,CAACC,OAAO,CAAC,WAAW,EAAEJ,KAAK,CAAC;QAC1CG,cAAc,CAACC,OAAO,CAAC,QAAQ,EAAEH,MAAM,CAAC;QACxCI,KAAK,CAACT,QAAQ,CAACE,IAAI,CAACC,OAAO,CAAC;QAC5BV,QAAQ,CAAC,OAAO,CAAC;MACnB,CAAC,MAAM;QACLgB,KAAK,CAACT,QAAQ,CAACE,IAAI,CAACC,OAAO,CAAC;MAC9B;IACF,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACpBD,KAAK,CAAC,yDAAyD,CAAC;IAClE;EACF,CAAC,MAAM;IACLjB,YAAY,CAACE,MAAM,CAAC;EACtB;AACF,CAAC;AAED,SAASV,YAAY,EAAEO,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}